{% extends "fpc_form.html" %} 
{% load fpc_tags %} 

{% block f_botoes %}
<div id="f_botoes" style="height:32px">
	<div id="barra_botao" data-ts="{{ ts.id }}" data-perm="{{ form.perm }}">
 		<button id="btn_pesquisar" type="button" class="btn btn-default btn-xs" onclick="fpc.pesquisar('{{ ts.id }}', false)" >
 			<i class="glyphicon glyphicon-search"></i>Pesquisar
 		</button>
 		<button id="btn_novo" type="button" class="btn btn-default btn-xs" onclick="fpc.novo('{{ ts.id }}', true)" > 
 			<i class="glyphicon glyphicon-plus"></i>Novo 
 		</button>
 		<button id="btn_editar" style="display:none" type="button" class="btn btn-default btn-xs" onclick="fpc.editar()" >
 			<i class="glyphicon glyphicon-pencil"></i>Editar 
 		</button>
 		<button id="btn_visualizar" style="display:none" type="button" class="btn btn-default btn-xs" onclick="fpc.editar()" >
 			<i class="glyphicon glyphicon-list-alt"></i>Visualizar 
 		</button>
 		<button id="btn_salvar" style="display:none" type="button" class="btn btn-default btn-xs" onclick="fpc.salvar()">
 			<i class="glyphicon glyphicon-floppy-disk"></i>Salvar
 		</button>
 		<button id="btn_cancelar" style="display:none" type="button" class="btn btn-default btn-xs">
 			<i class="glyphicon glyphicon-remove"></i>Cancelar
 		</button>
 		<button id="btn_excluir" style="display:none" class="btn btn-default btn-xs" type="button" onclick="fpc.excluir()">
 			<i class="glyphicon glyphicon-trash"></i>Excluir 
 		</button>
 		<span>&nbsp;&nbsp;</span>
	    <div id="btn_mais" class="btn-group" style="top:9px">
		  <button type="button" data-toggle="dropdown" class="btn btn-default btn-xs">
		    <i class="glyphicon glyphicon-th"></i>Mais... <span class="caret"></span>
		  </button>
		  <ul class="dropdown-menu">
		  	  <li class="visible-xs-inline"><a href="#"><i class="glyphicon glyphicon-trash"></i>Excluir</a></li>
		  	  <li class="divider visible-xs-inline"></li>
		  	  <li><a href="#"><i class="glyphicon glyphicon-export"></i> Exportar cadastro</a></li>
			  <li><a href="#"><i class="glyphicon glyphicon-send"></i> Duplicar cadastro</a></li>
		  </ul>
	    </div>
	</div>
	<div id="f_botoes_esq"  style="float: right;">
		<button id="btn_nova_pesquisa" style="display:none;" type="button" class="btn btn-default btn-xs" onclick="fpc.novaPesquisa()">
			<i class="glyphicon glyphicon-chevron-left"></i>Voltar
		</button>
		<button id="btn_volta_lista" style="display:none;" type="button" class="btn btn-default btn-xs" onclick="fpc.voltarParaLista()">
			<i class="glyphicon glyphicon-chevron-left"></i>Voltar
		</button>
	</div>
</div>
{% endblock %}
{% block f_state %}
<div id="f_state" data-model="{{ form.name }}" 
     data-service-url="{{ service_url }}" 
     data-id="" 
     data-jsclass="{{ form.js_class }}" 
     data-ts="{{ ts.id }}" 
     data-perm="{{ form.perm }}"
     data-fields-grid="{{ fields_grid_pesquisa }}"
     data-jsclass-base={{form_base}}>
     </div>
{% endblock %}
{% block f_content_form %}
<form id="filtro" role="form">
	<div id="filtro_pesquisa">
	{% include "fpc_layout.html" %}
	</div>
	<div id="dados_pesquisa" data-ts="{{ ts.id }}" data-model="{{ form.name }}" data-id="" data-jsclass="{{ form.js_class }}" style="display:none" >
		<table id="dados" class="display" >
			<thead>
				<tr>
					<th style="width:5px" ></th>
					{% for field in form.campos_grid_pesquisa %}
						<th data-field="{{ field.name }}" data-type="{{ field.tipo_str }}">{{ field.verbose_name }}</th>
					{% endfor %}
				</tr>
			</thead>
			<tbody>
			</tbody>
			<tfoot>
				<tr>
					<td rowspan="1" colspan="{{ form.campos_grid_pesquisa|length|fpc_inc }}">&nbsp; </td>
				</tr>
			</tfoot>
		</table>
	</div>	   
</form>
<form id="f_cadastro" style="display: none" ></form>
{% endblock %}


<script>
	fpc.montaBarraBotao();
</script>